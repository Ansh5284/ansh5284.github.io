<section id="introduction-ch12" class="content-section p-6 bg-white rounded-xl shadow-sm mb-8">
    <h2 class="text-2xl font-bold text-teal-700 mb-4">Divisional Transfer Pricing</h2>
    <p class="text-slate-600">This chapter explains the concept and utility of transfer pricing in decentralized organizations. It covers various transfer pricing methods, how transfer prices can distort performance assessment, behavioral consequences, and proposals for resolving conflicts. It also delves into international transfer pricing considerations.</p>
</section>

<section id="utility-transfer-pricing" class="content-section p-6 bg-white rounded-xl shadow-sm mb-8">
    <h2 class="text-2xl font-bold text-teal-700 mb-4">Utility of Transfer Pricing</h2>
    <p class="text-slate-600 mb-4">Transfer pricing is the valuation of inter-divisional transactions (e.g., goods, services, intangibles, loans) in a decentralized organizational structure. It is crucial for:</p>
    <ul class="list-disc list-inside text-slate-600 space-y-1">
        <li>**Performance evaluation:** Makes divisions profit accountable, motivating managers to maximize divisional profitability and overall company profit.</li>
        <li>**Employee engagement and compensation:** Fair pricing motivates employees.</li>
        <li>**Resource allocation:** Supports make-or-buy decisions, capacity utilization, and overall profit maximization.</li>
        <li>**Taxation and profit remittance:** Impacts overall tax burden and profit repatriation for multinational companies.</li>
    </ul>
    <p class="text-slate-600 mt-4">Transfer prices should ideally be "arms-length," meaning fair and comparable to third-party dealings, especially from a taxation perspective. From a business perspective, fair value depends on compatibility with divisional profit targets.</p>
</section>

<section id="transfer-pricing-methods" class="content-section p-6 bg-white rounded-xl shadow-sm mb-8">
    <h2 class="text-2xl font-bold text-teal-700 mb-4">Transfer Pricing Methods</h2>
    <p class="text-slate-600 mb-4">Various methods exist, each with advantages and disadvantages:</p>

    <h3 class="text-xl font-semibold text-slate-800 mb-2">1. Market Based Transfer Price:</h3>
    <p class="text-slate-600 mb-4">Based on external market prices for similar goods/services, adjusted for internal cost savings. Advantages: Unbiased, less ambiguous, objective performance evaluation. Disadvantages: Market fluctuations, non-availability for intermediate goods, potential for manipulation.</p>

    <h3 class="text-xl font-semibold text-slate-800 mt-4 mb-2">2. Shared Profit Relative to Cost Based Transfer Price:</h3>
    <p class="text-slate-600 mb-4">Allocates total product profit among divisions based on their proportion of value addition (cost incurred). Advantage: Allocates profit based on value added.</p>

    <h3 class="text-xl font-semibold text-slate-800 mt-4 mb-2">3. Cost Based Transfer Price:</h3>
    <p class="text-slate-600 mb-4">Based on internal cost records. Advantages: Benchmarking to internal targets, information readily available. Disadvantages: Subjectivity in cost interpretation, little incentive for supplying division to lower costs.</p>
    <ul class="list-disc list-inside text-slate-600 space-y-1 ml-4">
        <li>**Marginal Cost Based:** Transfer price = marginal cost per unit. Advantage: Useful with excess capacity. Disadvantage: No fixed cost/markup, supplying division shows loss.</li>
        <li>**Standard Cost Based:** Transfer price = predetermined standard cost. Advantage: Performance evaluation against budgeted targets. Disadvantage: Profit measurement centralized.</li>
        <li>**Full Cost Based:** Transfer price = full product cost. Advantage: Supplying division shows no loss. Disadvantage: No profit on internal sales (disincentive).</li>
        <li>**Cost plus a Mark-up Based:** Transfer price = full product cost + markup. Advantage: Supplying division makes profit. Disadvantage: Can distort purchasing division's performance if not adjusted for cost savings.</li>
    </ul>

    <h3 class="text-xl font-semibold text-slate-800 mt-4 mb-2">4. Negotiation Based Transfer Price:</h3>
    <p class="text-slate-600 mb-4">Managers of purchasing and supplying divisions negotiate a mutually agreeable price. Advantage: Autonomy for managers. Disadvantage: Requires sufficient external/internal information, can be time-consuming and lead to conflict.</p>
</section>

<section id="transfer-pricing-conflict" class="content-section p-6 bg-white rounded-xl shadow-sm mb-8">
    <h2 class="text-2xl font-bold text-teal-700 mb-4">Transfer Pricing and Goal Congruence</h2>
    <p class="text-slate-600 mb-4">Transfer pricing can lead to sub-optimal utilization of resources if managers prioritize individual divisional performance over overall company goals. Goal congruence is achieved when managers' actions to improve their division's profit also improve the company's profit.</p>
    <h3 class="text-xl font-semibold text-slate-800 mb-2">Range of Transfer Price that Promotes Goal Congruence:</h3>
    <ul class="list-disc list-inside text-slate-600 space-y-1">
        <li>**Minimum Transfer Price (Supplying Division):**
            <p class="text-slate-700 text-sm ml-4">$\text{Additional Outlay Cost per unit} + \text{Opportunity Cost per unit}$</p>
            <p class="text-slate-700 text-sm ml-4">Additional Outlay Cost = Marginal Cost + Any Additional Incidental Costs</p>
            <p class="text-slate-700 text-sm ml-4">Opportunity Cost = Benefit foregone from selling internally vs. externally.</p>
        </li>
        <li>**Maximum Transfer Price (Purchasing Division):**
            <p class="text-slate-700 text-sm ml-4">$\text{Lower of Net Marginal Revenue and the External Buy-in Price}$</p>
            <p class="text-slate-700 text-sm ml-4">Net Marginal Revenue = Selling Price per unit - Marginal Cost to Purchasing Division</p>
        </li>
    </ul>
    <div class="bg-slate-50 p-4 rounded-lg mt-4">
        <h3 class="font-semibold text-slate-700 mb-2">Transfer Price Range Calculator:</h3>
        <p class="text-sm text-slate-600 mb-2">Calculate the goal congruence range based on supplying division's costs and purchasing division's alternatives.</p>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
                <label for="supMarginalCost" class="block text-sm font-medium text-slate-700">Supplying Div. Marginal Cost (₹)</label>
                <input type="number" id="supMarginalCost" value="10" class="mt-1 block w-full p-2 border border-slate-300 rounded-md shadow-sm">
            </div>
            <div>
                <label for="supExternalSellingPrice" class="block text-sm font-medium text-slate-700">Supplying Div. External Selling Price (₹) (if capacity limited)</label>
                <input type="number" id="supExternalSellingPrice" value="0" class="mt-1 block w-full p-2 border border-slate-300 rounded-md shadow-sm">
            </div>
            <div>
                <label for="purExternalBuyInPrice" class="block text-sm font-medium text-slate-700">Purchasing Div. External Buy-in Price (₹)</label>
                <input type="number" id="purExternalBuyInPrice" value="14" class="mt-1 block w-full p-2 border border-slate-300 rounded-md shadow-sm">
            </div>
            <div>
                <label for="purSellingPrice" class="block text-sm font-medium text-slate-700">Purchasing Div. Final Selling Price (₹)</label>
                <input type="number" id="purSellingPrice" value="20" class="mt-1 block w-full p-2 border border-slate-300 rounded-md shadow-sm">
            </div>
            <div>
                <label for="purMarginalCost" class="block text-sm font-medium text-slate-700">Purchasing Div. Other Marginal Cost (₹)</label>
                <input type="number" id="purMarginalCost" value="5" class="mt-1 block w-full p-2 border border-slate-300 rounded-md shadow-sm">
            </div>
            <div class="md:col-span-2">
                <button id="calculateTPRange" class="mt-2 bg-teal-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-teal-700 transition">Calculate TP Range</button>
            </div>
        </div>
        <div class="mt-4 p-3 bg-white rounded-md">
            <p class="font-semibold text-slate-800">Minimum Transfer Price: <span id="minTPResult" class="text-teal-600">₹10.00</span></p>
            <p class="font-semibold text-slate-800">Maximum Transfer Price: <span id="maxTPResult" class="text-teal-600">₹14.00</span></p>
            <p class="font-semibold text-slate-800">Range: <span id="tpRangeDisplay" class="text-teal-600">₹10.00 to ₹14.00</span></p>
        </div>
    </div>
</section>

<section id="transfer-pricing-circumstances" class="content-section p-6 bg-white rounded-xl shadow-sm mb-8">
    <h2 class="text-2xl font-bold text-teal-700 mb-4">Transfer Pricing Decision: Different Circumstances</h2>
    <h3 class="text-xl font-semibold text-slate-800 mb-2">1. Different Capacity Levels:</h3>
    <ul class="list-disc list-inside text-slate-600 space-y-1">
        <li>**Supplying division has excess capacity:**
            <ul class="list-circle list-inside ml-4">
                <li>Minimum TP = Marginal Cost p.u. (no opportunity cost).</li>
                <li>Maximum TP = Lower of Net Marginal Revenue and External Buy-in Price.</li>
            </ul>
        </li>
        <li>**Supplying division operates at full capacity:**
            <ul class="list-circle list-inside ml-4">
                <li>Minimum TP = Marginal Cost p.u. + Opportunity Cost p.u. (lost contribution from external sales).</li>
                <li>Maximum TP = Lower of Net Marginal Revenue and External Buy-in Price.</li>
            </ul>
        </li>
    </ul>
    <h3 class="text-xl font-semibold text-slate-800 mt-4 mb-2">2. Different Demand Levels:</h3>
    <p class="text-slate-600 mb-4">When a supplying division caters to internal, external, and special orders, production cost benefits from economies of scale. Cost savings (e.g., lower packaging for internal sales, no selling expenses for special orders) should be accounted for in transfer pricing. The general rule for minimum and maximum transfer price range applies.</p>
</section>

<section id="resolving-conflict" class="content-section p-6 bg-white rounded-xl shadow-sm mb-8">
    <h2 class="text-2xl font-bold text-teal-700 mb-4">Proposals for Resolving Transfer Pricing Conflict</h2>
    <p class="text-slate-600 mb-4">To address conflicts between individual divisions' interests and the company's overall goals:</p>
    <h3 class="text-xl font-semibold text-slate-800 mb-2">1. Dual Rate Transfer Pricing System:</h3>
    <p class="text-slate-600 mb-4">Supplying division records transfer price with normal profit margin (reasonable revenue). Purchasing division records transfer price at marginal cost (minimum cost). Advantages: Better evaluation, improved cooperation, goal congruence, reduced sub-optimization. Drawbacks: Complicates records, artificial profits for internal use only.</p>
    <h3 class="text-xl font-semibold text-slate-800 mt-4 mb-2">2. Two Part Transfer Pricing System:</h3>
    <p class="text-slate-600 mb-4">Transfer price = marginal cost of production + a lump-sum charge. Marginal cost recovers additional production cost; lump-sum recovers portion of fixed cost. Advantages: Supplying division shows better profitability, purchasing division gets lower rate. Addresses distortions from full cost-based pricing.</p>
</section>

<section id="international-transfer-pricing" class="content-section p-6 bg-white rounded-xl shadow-sm mb-8">
    <h2 class="text-2xl font-bold text-teal-700 mb-4">International Transfer Pricing</h2>
    <p class="text-slate-600 mb-4">For multinational companies, inter-divisional transactions across countries involve goods, services, or intangibles. Taxation, profit repatriation, and transfer prices are critical considerations. Multinationals use transfer pricing to reduce the overall tax impact on earnings.</p>
    <p class="text-slate-600 mb-4">Transfer prices are analyzed for "arms-length" basis by tax authorities. Companies might set lower transfer prices for supplying divisions in high-tax countries to shift profits to purchasing divisions in lower-tax countries, or vice-versa.</p>
    <p class="text-slate-600">International firms also manage exchange rate fluctuation risks through transfer pricing and currency management strategies.</p>
</section>

<section id="quiz" class="content-section p-6 bg-white rounded-xl shadow-sm mb-8">
    <h2 class="text-2xl font-bold text-teal-700 mb-4">MCQ Test</h2>
    <p class="text-slate-600 mb-6">Test your knowledge on the concepts covered in this chapter. Select your answers and submit the quiz to see your score and detailed explanations.</p>
    <div id="quiz-container">
        <div id="question-display" class="mb-6"></div>
        <div id="quiz-navigation" class="flex justify-between items-center mt-4">
            <button id="prev-btn" class="bg-slate-200 text-slate-700 px-4 py-2 rounded-lg font-semibold hover:bg-slate-300 transition disabled:opacity-50" disabled>Previous</button>
            <span id="question-counter" class="font-medium text-slate-600">Question 1 of 40</span>
            <button id="next-btn" class="bg-teal-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-teal-700 transition disabled:opacity-50">Next</button>
        </div>
        <button id="submit-quiz-btn" class="mt-6 w-full bg-blue-600 text-white px-4 py-3 rounded-lg font-semibold hover:bg-blue-700 transition disabled:opacity-50 hidden">Submit Quiz</button>
        <div id="quiz-loading-indicator" class="hidden">Generating new questions, please wait...</div>
        <button id="generate-new-quiz-btn" class="mt-4 w-full bg-purple-600 text-white px-4 py-3 rounded-lg font-semibold hover:bg-purple-700 transition disabled:opacity-50">Generate New Quiz</button>
        <div id="quiz-results" class="mt-6 p-4 bg-slate-50 rounded-lg hidden">
            <h3 class="text-xl font-bold text-slate-800 mb-2">Your Score: <span id="score-display" class="text-teal-600"></span></h3>
            <p id="correct-count" class="text-slate-600"></p>
            <p id="incorrect-count" class="text-slate-600"></p>
        </div>
    </div>
</section>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Transfer Price Range Calculator Logic
        const calculateTPRangeBtn = document.getElementById('calculateTPRange');
        if (calculateTPRangeBtn) {
            calculateTPRangeBtn.addEventListener('click', calculateTransferPriceRange);
            // Initial calculation on load for default values
            calculateTransferPriceRange();
        }

        function calculateTransferPriceRange() {
            const supMarginalCost = parseFloat(document.getElementById('supMarginalCost').value);
            const supExternalSellingPrice = parseFloat(document.getElementById('supExternalSellingPrice').value);
            const purExternalBuyInPrice = parseFloat(document.getElementById('purExternalBuyInPrice').value);
            const purSellingPrice = parseFloat(document.getElementById('purSellingPrice').value);
            const purMarginalCost = parseFloat(document.getElementById('purMarginalCost').value);

            let minTP = supMarginalCost;
            // If supplying division has external sales and is at full capacity (implied by supExternalSellingPrice > 0)
            if (supExternalSellingPrice > 0) {
                const supOpportunityCost = supExternalSellingPrice - supMarginalCost;
                minTP = supMarginalCost + supOpportunityCost; // or just supExternalSellingPrice
            }

            const purNetMarginalRevenue = purSellingPrice - purMarginalCost;
            let maxTP = purNetMarginalRevenue;
            if (purExternalBuyInPrice > 0) {
                maxTP = Math.min(purNetMarginalRevenue, purExternalBuyInPrice);
            }

            document.getElementById('minTPResult').textContent = `₹${minTP.toFixed(2)}`;
            document.getElementById('maxTPResult').textContent = `₹${maxTP.toFixed(2)}`;
            document.getElementById('tpRangeDisplay').textContent = `₹${minTP.toFixed(2)} to ₹${maxTP.toFixed(2)}`;
        }
    });
</script>
